name: Branch Protection Rules

# This workflow sets up branch protection rules
# Run manually to configure branch protection

on:
  workflow_dispatch:
    inputs:
      branch_name:
        description: 'Branch to protect (default: main)'
        required: false
        default: 'main'
        type: string

jobs:
  setup-branch-protection:
    name: ğŸ›¡ï¸ Setup Branch Protection
    runs-on: ubuntu-latest
    steps:
      - name: Configure branch protection
        run: |
          echo "ğŸ›¡ï¸ Branch Protection Configuration for ${{ github.event.inputs.branch_name || 'main' }}"
          echo ""
          echo "Required settings:"
          echo "âœ… Require a pull request before merging"
          echo "âœ… Require status checks to pass before merging"
          echo "âœ… Require branches to be up to date before merging"
          echo "âœ… Require linear history"
          echo "âœ… Restrict pushes that create files larger than 100MB"
          echo "âœ… Require conversation resolution before merging"
          echo ""
          echo "Status checks required:"
          echo "âœ… Build phase must pass"
          echo "âœ… Test phase must pass"
          echo "âœ… Integration phase must pass"
          echo "âœ… Deploy phase must pass"
          echo ""
          echo "âš ï¸  Note: Configure these settings in GitHub repository settings:"
          echo "   Settings â†’ Branches â†’ Add rule"
          echo "   Branch name pattern: ${{ github.event.inputs.branch_name || 'main' }}"
          echo "   Apply to: main branch"
